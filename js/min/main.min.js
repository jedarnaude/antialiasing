function initRenderer(){renderer=new THREE.WebGLRenderer,renderer.setClearColor(12303291,1),renderer.setSize(viewport.width,viewport.height),renderer.autoClear=!1,document.getElementById("container").appendChild(renderer.domElement),stats=new Stats,stats.domElement.style.position="absolute",stats.domElement.style.bottom="0px",document.body.appendChild(stats.domElement),window.addEventListener("keypress",swapAA,!1)}function swapAA(e){switch(e.keyCode){case 50:renderFunc=renderSSAA;break;case 49:default:renderFunc=renderNoAA}}function initScene(){scene=new THREE.Scene,sceneRTT=new THREE.Scene,camera=new THREE.OrthographicCamera(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,-1e4,1e4),camera.position.z=100,THREEx.WindowResize.bind(renderer,camera);var e=new THREE.DirectionalLight(16777215);e.position.set(0,0,1).normalize(),sceneRTT.add(e),data.noAA.rtt=new THREE.WebGLRenderTarget(viewport.width,viewport.height,{minFilter:THREE.NearestFilter,magFilter:THREE.NearestFilter,format:THREE.RGBFormat}),data.SSAA.rtt=new THREE.WebGLRenderTarget(2*viewport.width,2*viewport.height,{minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat});var t=new THREE.TorusGeometry(100,25,15,30),r=new THREE.MeshPhongMaterial({color:5592405,specular:16755200,shininess:5});zmesh1=new THREE.Mesh(t,r),zmesh1.position.set(0,0,100),zmesh1.scale.set(1.5,1.5,1.5),zmesh1.rotation.set(0,-1.15,0),sceneRTT.add(zmesh1);var n=new THREE.PlaneGeometry(window.innerWidth,window.innerHeight),i=new THREE.ShaderMaterial({uniforms:{tDiffuse:{type:"t",value:data.noAA.rtt}},vertexShader:document.getElementById("vertexShader").textContent,fragmentShader:document.getElementById("fragment_shader_screen").textContent,depthWrite:!1});quad=new THREE.Mesh(n,i),quad.position.z=-100,scene.add(quad),renderFunc=renderNoAA}function renderNoAA(){quad.material.uniforms.tDiffuse.value=data.noAA.rtt,renderer.render(sceneRTT,camera,data.noAA.rtt,!0)}function renderSSAA(){quad.material.uniforms.tDiffuse.value=data.SSAA.rtt,renderer.render(sceneRTT,camera,data.SSAA.rtt,!0)}function renderMSAA(){}function renderMLAA(){}function renderFXAA(){}function animate(){requestAnimationFrame(animate),render(),stats.update()}function render(){var e=Date.now();renderer.clear(),renderFunc(),renderer.render(scene,camera)}Detector.webgl||Detector.addGetWebGLMessage();var container,stats,camera,camera,sceneRTT,sceneScreen,scene,renderer,zmesh1,zmesh2,mouseX=0,mouseY=0,windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2,rtTexture,material,quad,delta=.01,Viewport=function(e,t,r,n){this.x=e,this.y=t,this.width=r,this.height=n},viewport=new Viewport(0,0,window.innerWidth,window.innerHeight),data={noAA:{func:renderNoAA,rtt:void 0,viewport:new Viewport(0,0,.5*viewport.width,.5*viewport.height)},SSAA:{func:renderSSAA,rtt:void 0,viewport:new Viewport(.5*viewport.width,.5*viewport.height,.5*viewport.width,.5*viewport.height)},MSAA:void 0,MLAA:void 0,FXAA:void 0},renderFunc;initRenderer(),initScene(),animate();